"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[334],{3917:function(t,e,s){s.r(e),s.d(e,{default:function(){return st}});var n=s(4316),r=s(7679),i=s(1795);function c(t){return Array.isArray?Array.isArray(t):"[object Array]"===p(t)}const o=1/0;function a(t){return null==t?"":function(t){if("string"==typeof t)return t;let e=t+"";return"0"==e&&1/t==-o?"-0":e}(t)}function h(t){return"string"==typeof t}function l(t){return"number"==typeof t}function u(t){return!0===t||!1===t||function(t){return d(t)&&null!==t}(t)&&"[object Boolean]"==p(t)}function d(t){return"object"==typeof t}function g(t){return null!=t}function f(t){return!t.trim().length}function p(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const m=t=>`Missing ${t} property in key`,M=t=>`Property 'weight' in key '${t}' must be a positive integer`,y=Object.prototype.hasOwnProperty;class x{constructor(t){this._keys=[],this._keyMap={};let e=0;t.forEach((t=>{let s=k(t);this._keys.push(s),this._keyMap[s.id]=s,e+=s.weight})),this._keys.forEach((t=>{t.weight/=e}))}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function k(t){let e=null,s=null,n=null,r=1,i=null;if(h(t)||c(t))n=t,e=L(t),s=S(t);else{if(!y.call(t,"name"))throw new Error(m("name"));const c=t.name;if(n=c,y.call(t,"weight")&&(r=t.weight,r<=0))throw new Error(M(c));e=L(c),s=S(c),i=t.getFn}return{path:e,id:s,weight:r,src:n,getFn:i}}function L(t){return c(t)?t:t.split(".")}function S(t){return c(t)?t.join("."):t}var v={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...{useExtendedSearch:!1,getFn:function(t,e){let s=[],n=!1;const r=(t,e,i)=>{if(g(t))if(e[i]){const o=t[e[i]];if(!g(o))return;if(i===e.length-1&&(h(o)||l(o)||u(o)))s.push(a(o));else if(c(o)){n=!0;for(let t=0,s=o.length;t<s;t+=1)r(o[t],e,i+1)}else e.length&&r(o,e,i+1)}else s.push(t)};return r(t,h(e)?e.split("."):e,0),n?s:s[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};const _=/[^ ]+/g;class w{constructor({getFn:t=v.getFn,fieldNormWeight:e=v.fieldNormWeight}={}){this.norm=function(t=1,e=3){const s=new Map,n=Math.pow(10,e);return{get(e){const r=e.match(_).length;if(s.has(r))return s.get(r);const i=1/Math.pow(r,.5*t),c=parseFloat(Math.round(i*n)/n);return s.set(r,c),c},clear(){s.clear()}}}(e,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach(((t,e)=>{this._keysMap[t.id]=e}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,h(this.docs[0])?this.docs.forEach(((t,e)=>{this._addString(t,e)})):this.docs.forEach(((t,e)=>{this._addObject(t,e)})),this.norm.clear())}add(t){const e=this.size();h(t)?this._addString(t,e):this._addObject(t,e)}removeAt(t){this.records.splice(t,1);for(let e=t,s=this.size();e<s;e+=1)this.records[e].i-=1}getValueForItemAtKeyId(t,e){return t[this._keysMap[e]]}size(){return this.records.length}_addString(t,e){if(!g(t)||f(t))return;let s={v:t,i:e,n:this.norm.get(t)};this.records.push(s)}_addObject(t,e){let s={i:e,$:{}};this.keys.forEach(((e,n)=>{let r=e.getFn?e.getFn(t):this.getFn(t,e.path);if(g(r))if(c(r)){let t=[];const e=[{nestedArrIndex:-1,value:r}];for(;e.length;){const{nestedArrIndex:s,value:n}=e.pop();if(g(n))if(h(n)&&!f(n)){let e={v:n,i:s,n:this.norm.get(n)};t.push(e)}else c(n)&&n.forEach(((t,s)=>{e.push({nestedArrIndex:s,value:t})}))}s.$[n]=t}else if(h(r)&&!f(r)){let t={v:r,n:this.norm.get(r)};s.$[n]=t}})),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}}function I(t,e,{getFn:s=v.getFn,fieldNormWeight:n=v.fieldNormWeight}={}){const r=new w({getFn:s,fieldNormWeight:n});return r.setKeys(t.map(k)),r.setSources(e),r.create(),r}function C(t,{errors:e=0,currentLocation:s=0,expectedLocation:n=0,distance:r=v.distance,ignoreLocation:i=v.ignoreLocation}={}){const c=e/t.length;if(i)return c;const o=Math.abs(n-s);return r?c+o/r:o?1:c}const b=32;function A(t,e,s,{location:n=v.location,distance:r=v.distance,threshold:i=v.threshold,findAllMatches:c=v.findAllMatches,minMatchCharLength:o=v.minMatchCharLength,includeMatches:a=v.includeMatches,ignoreLocation:h=v.ignoreLocation}={}){if(e.length>b)throw new Error(`Pattern length exceeds max of ${b}.`);const l=e.length,u=t.length,d=Math.max(0,Math.min(n,u));let g=i,f=d;const p=o>1||a,m=p?Array(u):[];let M;for(;(M=t.indexOf(e,f))>-1;){let t=C(e,{currentLocation:M,expectedLocation:d,distance:r,ignoreLocation:h});if(g=Math.min(t,g),f=M+l,p){let t=0;for(;t<l;)m[M+t]=1,t+=1}}f=-1;let y=[],x=1,k=l+u;const L=1<<l-1;for(let v=0;v<l;v+=1){let n=0,i=k;for(;n<i;){C(e,{errors:v,currentLocation:d+i,expectedLocation:d,distance:r,ignoreLocation:h})<=g?n=i:k=i,i=Math.floor((k-n)/2+n)}k=i;let o=Math.max(1,d-i+1),a=c?u:Math.min(d+i,u)+l,M=Array(a+2);M[a+1]=(1<<v)-1;for(let c=a;c>=o;c-=1){let n=c-1,i=s[t.charAt(n)];if(p&&(m[n]=+!!i),M[c]=(M[c+1]<<1|1)&i,v&&(M[c]|=(y[c+1]|y[c])<<1|1|y[c+1]),M[c]&L&&(x=C(e,{errors:v,currentLocation:n,expectedLocation:d,distance:r,ignoreLocation:h}),x<=g)){if(g=x,f=n,f<=d)break;o=Math.max(1,2*d-f)}}if(C(e,{errors:v+1,currentLocation:d,expectedLocation:d,distance:r,ignoreLocation:h})>g)break;y=M}const S={isMatch:f>=0,score:Math.max(.001,x)};if(p){const t=function(t=[],e=v.minMatchCharLength){let s=[],n=-1,r=-1,i=0;for(let c=t.length;i<c;i+=1){let c=t[i];c&&-1===n?n=i:c||-1===n||(r=i-1,r-n+1>=e&&s.push([n,r]),n=-1)}return t[i-1]&&i-n>=e&&s.push([n,i-1]),s}(m,o);t.length?a&&(S.indices=t):S.isMatch=!1}return S}function $(t){let e={};for(let s=0,n=t.length;s<n;s+=1){const r=t.charAt(s);e[r]=(e[r]||0)|1<<n-s-1}return e}class E{constructor(t,{location:e=v.location,threshold:s=v.threshold,distance:n=v.distance,includeMatches:r=v.includeMatches,findAllMatches:i=v.findAllMatches,minMatchCharLength:c=v.minMatchCharLength,isCaseSensitive:o=v.isCaseSensitive,ignoreLocation:a=v.ignoreLocation}={}){if(this.options={location:e,threshold:s,distance:n,includeMatches:r,findAllMatches:i,minMatchCharLength:c,isCaseSensitive:o,ignoreLocation:a},this.pattern=o?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const h=(t,e)=>{this.chunks.push({pattern:t,alphabet:$(t),startIndex:e})},l=this.pattern.length;if(l>b){let t=0;const e=l%b,s=l-e;for(;t<s;)h(this.pattern.substr(t,b),t),t+=b;if(e){const t=l-b;h(this.pattern.substr(t),t)}}else h(this.pattern,0)}searchIn(t){const{isCaseSensitive:e,includeMatches:s}=this.options;if(e||(t=t.toLowerCase()),this.pattern===t){let e={isMatch:!0,score:0};return s&&(e.indices=[[0,t.length-1]]),e}const{location:n,distance:r,threshold:i,findAllMatches:c,minMatchCharLength:o,ignoreLocation:a}=this.options;let h=[],l=0,u=!1;this.chunks.forEach((({pattern:e,alphabet:d,startIndex:g})=>{const{isMatch:f,score:p,indices:m}=A(t,e,d,{location:n+g,distance:r,threshold:i,findAllMatches:c,minMatchCharLength:o,includeMatches:s,ignoreLocation:a});f&&(u=!0),l+=p,f&&m&&(h=[...h,...m])}));let d={isMatch:u,score:u?l/this.chunks.length:1};return u&&s&&(d.indices=h),d}}class F{constructor(t){this.pattern=t}static isMultiMatch(t){return N(t,this.multiRegex)}static isSingleMatch(t){return N(t,this.singleRegex)}search(){}}function N(t,e){const s=t.match(e);return s?s[1]:null}class R extends F{constructor(t,{location:e=v.location,threshold:s=v.threshold,distance:n=v.distance,includeMatches:r=v.includeMatches,findAllMatches:i=v.findAllMatches,minMatchCharLength:c=v.minMatchCharLength,isCaseSensitive:o=v.isCaseSensitive,ignoreLocation:a=v.ignoreLocation}={}){super(t),this._bitapSearch=new E(t,{location:e,threshold:s,distance:n,includeMatches:r,findAllMatches:i,minMatchCharLength:c,isCaseSensitive:o,ignoreLocation:a})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class O extends F{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let e,s=0;const n=[],r=this.pattern.length;for(;(e=t.indexOf(this.pattern,s))>-1;)s=e+r,n.push([e,s-1]);const i=!!n.length;return{isMatch:i,score:i?0:1,indices:n}}}const j=[class extends F{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const e=t===this.pattern;return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},O,class extends F{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const e=t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},class extends F{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const e=!t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends F{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const e=!t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends F{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const e=t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[t.length-this.pattern.length,t.length-1]}}},class extends F{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const e=-1===t.indexOf(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},R],W=j.length,Z=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;const J=new Set([R.type,O.type]);class z{constructor(t,{isCaseSensitive:e=v.isCaseSensitive,includeMatches:s=v.includeMatches,minMatchCharLength:n=v.minMatchCharLength,ignoreLocation:r=v.ignoreLocation,findAllMatches:i=v.findAllMatches,location:c=v.location,threshold:o=v.threshold,distance:a=v.distance}={}){this.query=null,this.options={isCaseSensitive:e,includeMatches:s,minMatchCharLength:n,findAllMatches:i,ignoreLocation:r,location:c,threshold:o,distance:a},this.pattern=e?t:t.toLowerCase(),this.query=function(t,e={}){return t.split("|").map((t=>{let s=t.trim().split(Z).filter((t=>t&&!!t.trim())),n=[];for(let r=0,i=s.length;r<i;r+=1){const t=s[r];let i=!1,c=-1;for(;!i&&++c<W;){const s=j[c];let r=s.isMultiMatch(t);r&&(n.push(new s(r,e)),i=!0)}if(!i)for(c=-1;++c<W;){const s=j[c];let r=s.isSingleMatch(t);if(r){n.push(new s(r,e));break}}}return n}))}(this.pattern,this.options)}static condition(t,e){return e.useExtendedSearch}searchIn(t){const e=this.query;if(!e)return{isMatch:!1,score:1};const{includeMatches:s,isCaseSensitive:n}=this.options;t=n?t:t.toLowerCase();let r=0,i=[],c=0;for(let o=0,a=e.length;o<a;o+=1){const n=e[o];i.length=0,r=0;for(let e=0,o=n.length;e<o;e+=1){const o=n[e],{isMatch:a,indices:h,score:l}=o.search(t);if(!a){c=0,r=0,i.length=0;break}if(r+=1,c+=l,s){const t=o.constructor.type;J.has(t)?i=[...i,...h]:i.push(h)}}if(r){let t={isMatch:!0,score:c/r};return s&&(t.indices=i),t}}return{isMatch:!1,score:1}}}const K=[];function P(t,e){for(let s=0,n=K.length;s<n;s+=1){let n=K[s];if(n.condition(t,e))return new n(t,e)}return new E(t,e)}const q="$and",B="$or",V="$path",Q="$val",T=t=>!(!t[q]&&!t[B]),U=t=>({[q]:Object.keys(t).map((e=>({[e]:t[e]})))});function D(t,e,{auto:s=!0}={}){const n=t=>{let r=Object.keys(t);const i=(t=>!!t[V])(t);if(!i&&r.length>1&&!T(t))return n(U(t));if((t=>!c(t)&&d(t)&&!T(t))(t)){const n=i?t[V]:r[0],c=i?t[Q]:t[n];if(!h(c))throw new Error((t=>`Invalid value for key ${t}`)(n));const o={keyId:S(n),pattern:c};return s&&(o.searcher=P(c,e)),o}let o={children:[],operator:r[0]};return r.forEach((e=>{const s=t[e];c(s)&&s.forEach((t=>{o.children.push(n(t))}))})),o};return T(t)||(t=U(t)),n(t)}function G(t,e){const s=t.matches;e.matches=[],g(s)&&s.forEach((t=>{if(!g(t.indices)||!t.indices.length)return;const{indices:s,value:n}=t;let r={indices:s,value:n};t.key&&(r.key=t.key.src),t.idx>-1&&(r.refIndex=t.idx),e.matches.push(r)}))}function H(t,e){e.score=t.score}class X{constructor(t,e={},s){this.options={...v,...e},this.options.useExtendedSearch,this._keyStore=new x(this.options.keys),this.setCollection(t,s)}setCollection(t,e){if(this._docs=t,e&&!(e instanceof w))throw new Error("Incorrect 'index' type");this._myIndex=e||I(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){g(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=(()=>!1)){const e=[];for(let s=0,n=this._docs.length;s<n;s+=1){const r=this._docs[s];t(r,s)&&(this.removeAt(s),s-=1,n-=1,e.push(r))}return e}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:e=-1}={}){const{includeMatches:s,includeScore:n,shouldSort:r,sortFn:i,ignoreFieldNorm:c}=this.options;let o=h(t)?h(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return function(t,{ignoreFieldNorm:e=v.ignoreFieldNorm}){t.forEach((t=>{let s=1;t.matches.forEach((({key:t,norm:n,score:r})=>{const i=t?t.weight:null;s*=Math.pow(0===r&&i?Number.EPSILON:r,(i||1)*(e?1:n))})),t.score=s}))}(o,{ignoreFieldNorm:c}),r&&o.sort(i),l(e)&&e>-1&&(o=o.slice(0,e)),function(t,e,{includeMatches:s=v.includeMatches,includeScore:n=v.includeScore}={}){const r=[];return s&&r.push(G),n&&r.push(H),t.map((t=>{const{idx:s}=t,n={item:e[s],refIndex:s};return r.length&&r.forEach((e=>{e(t,n)})),n}))}(o,this._docs,{includeMatches:s,includeScore:n})}_searchStringList(t){const e=P(t,this.options),{records:s}=this._myIndex,n=[];return s.forEach((({v:t,i:s,n:r})=>{if(!g(t))return;const{isMatch:i,score:c,indices:o}=e.searchIn(t);i&&n.push({item:t,idx:s,matches:[{score:c,value:t,norm:r,indices:o}]})})),n}_searchLogical(t){const e=D(t,this.options),s=(t,e,n)=>{if(!t.children){const{keyId:s,searcher:r}=t,i=this._findMatches({key:this._keyStore.get(s),value:this._myIndex.getValueForItemAtKeyId(e,s),searcher:r});return i&&i.length?[{idx:n,item:e,matches:i}]:[]}const r=[];for(let i=0,c=t.children.length;i<c;i+=1){const c=t.children[i],o=s(c,e,n);if(o.length)r.push(...o);else if(t.operator===q)return[]}return r},n=this._myIndex.records,r={},i=[];return n.forEach((({$:t,i:n})=>{if(g(t)){let c=s(e,t,n);c.length&&(r[n]||(r[n]={idx:n,item:t,matches:[]},i.push(r[n])),c.forEach((({matches:t})=>{r[n].matches.push(...t)})))}})),i}_searchObjectList(t){const e=P(t,this.options),{keys:s,records:n}=this._myIndex,r=[];return n.forEach((({$:t,i:n})=>{if(!g(t))return;let i=[];s.forEach(((s,n)=>{i.push(...this._findMatches({key:s,value:t[n],searcher:e}))})),i.length&&r.push({idx:n,item:t,matches:i})})),r}_findMatches({key:t,value:e,searcher:s}){if(!g(e))return[];let n=[];if(c(e))e.forEach((({v:e,i:r,n:i})=>{if(!g(e))return;const{isMatch:c,score:o,indices:a}=s.searchIn(e);c&&n.push({score:o,key:t,value:e,idx:r,norm:i,indices:a})}));else{const{v:r,n:i}=e,{isMatch:c,score:o,indices:a}=s.searchIn(r);c&&n.push({score:o,key:t,value:r,norm:i,indices:a})}return n}}X.version="7.0.0",X.createIndex=I,X.parseIndex=function(t,{getFn:e=v.getFn,fieldNormWeight:s=v.fieldNormWeight}={}){const{keys:n,records:r}=t,i=new w({getFn:e,fieldNormWeight:s});return i.setKeys(n),i.setIndexRecords(r),i},X.config=v,X.parseQuery=D,function(...t){K.push(...t)}(z);var Y=s(7294),tt=s(917);const et=(0,n.Z)("h1",{target:"egkdc510"})({name:"1gsa5iu",styles:"position:absolute;left:50%;top:50%;transform:translate(-50%, -50%);color:rgba(0, 0, 0, 0.5);text-align:center"});var st=t=>{const{search:e}=t.location,{data:s}=t,{0:n,1:c}=(0,Y.useState)(""),{0:o,1:a}=(0,Y.useState)([]);return(0,Y.useEffect)((()=>{const t=sessionStorage.getItem("keyword"),e=sessionStorage.getItem("searchList");if(t&&e){const s=JSON.parse(t),n=JSON.parse(e);c(s),a(n)}}),[]),(0,Y.useEffect)((()=>{const t=e.split("keyword=")[1],n=s.allMarkdownRemark.edges.map((t=>({id:t.node.id,fields:t.node.fields,...t.node.frontmatter}))),r=new X(n,{keys:["categories","title","summary"],includeScore:!0}).search(t).map((t=>{const{id:e,fields:s,...n}=t.item;return{node:{id:e,fields:s,frontmatter:n}}}));sessionStorage.setItem("keyword",JSON.stringify(t)),sessionStorage.setItem("searchList",JSON.stringify(r)),c(t),a(r)}),[e]),(0,tt.tZ)(i.Z,null,o.length>0?(0,tt.tZ)(Y.Fragment,null,(0,tt.tZ)("h1",{style:{marginBottom:"20px",textAlign:"center"}},'"',n,'" 검색 결과'),(0,tt.tZ)(r.Z,{edges:o,selectedTag:"All"})):(0,tt.tZ)(et,null,"검색 결과가 없습니다."))}}}]);
//# sourceMappingURL=component---src-pages-search-tsx-f5ebcd8b248c29bb25cd.js.map